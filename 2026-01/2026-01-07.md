# 2026-01-07 - 일일 기록

##  주요 업무 및 작업
- landmaker 예측성능 향상방식 고안
- PG SR 성능 원인 분석
- 회전 보정 아이디어 구상

## LANDMAKER 예측 성능 부진 원인분석
랜드마크 결과 확인
  - 해상도를 조절했을때 크게 개선된건 없었음
  - 이전에 했던것과 마찬가지로 mpe 10mm대로 여전했음
  - 학습곡선을 보면 train은 줄어드는데 val이 안줄어드니 train 개수가 모자라서 그런것이라고 결론 내리고 데이터 증강을 시도함
  - 회전,밝기변화 노이즈 추가 한 이미지로 증강해서 진행
  - 결과 mpe 6mm대로 줄긴했음 그래도 결국 수정이 필요하긴함

 지표가 더이상 좁혀지지 않았던이유
- 점이 2개로 구성된 클래스에서 시작점과끝점이 예측한것과 gt가 다른 경우가 있었음
- 선을 긋는것이 목적이기에 gt에서는 점들의 순서를 크게 고려안함
- 문제는 랜드마크추적은 점을 예측하는것이라 학습할때 예측한 점과 gt와 비교함
  즉 점들을 1대1로 매칭함 근데 똑같은 점이지만 신분이 다른 점이 있고 예측을 잘했지만 손실함수가 크게나와 학습에 방해가 될수있음을 알게되었음
- 그래서 점의 신분은 고려하지않고 우측 줄기를 구성하는 점을 잘예측했는지 이런것이 지표이자 손실함수가 되어야해서 손실함수를 수정했음
- 일단 손실함수를 2번계산하는방식으로진행 ab -ab매칭 손실함수 ab-ba 매칭 손실함수
    계산해서 둘중에 낮은값이 진짜 손실함수라하고 진행
- 이 과정에서 손실함수 2번계산하는 문제가있지만 일단 당장 구분할 방법이 떠오르지 않아 어쩔수없이 이렇게 구성
- mpe가 크게나왔던것은 시작점과끝점이 바뀐경우도 점간 1대1매칭했을때 오차를 계산했기때문으로 추정해서 이부분을 개선하면 실제 mpe가 나올것으로 기대됨
- 실제로 1-fold확인해보니까 드라마틱한 차이가 없음 실제로 차이나는 부분이 비중이 몇프로인지 확인해야할듯


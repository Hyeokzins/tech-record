# 2026-01-05 - 일일 기록

## 주요 업무 및 작업
### PDF 라벨 편집 프로그램 - 자동 연결 시스템 구현
- **자동 연결 감지**: 라벨 이미지 선택 시 주변 치수 정보(텍스트/드로잉) 자동 감지 및 연결
  - 거리 기반 필터링 (기본 150px, 50~500px 조정 가능)
  - 면적 기반 필터링 (주 블록보다 큰 블록 제외)
- **다각형 기반 복합 이미지 추출**: Shapely 라이브러리로 타이트한 다각형 영역만 추출, 빈 공간 침범 방지
- **드래그/리사이즈 통합**: 주 블록 조작 시 연결된 블록들도 함께 이동/비례 조정
- **AI 채팅 명령 통합**: "2배 크게", "Allen을 Kate로" 등 자연어 명령으로 마우스 조작과 동일한 효과
- **성능 최적화**: 다각형 좌표 캐싱, bbox 재계산 제거, 드래그 중 미리보기 업데이트 지연


### PR SR 학습 결과확인
- 2스텝때 메모리가 터져있길래 확인해봤는데
- 2스텝때(33에폭시작) 데이터로더변경해서 진행하려고했는데 2스텝 시작때만 데이터로더 8배치사이즈로 진행하고 이후 34에폭에서는 다시 24배치사이즈로 진행해서 메모리터짐
## 개선할 점
- 메인 라벨이미지 크기가 변동될때 치수정보도 같이 실시간으로 수정할수 있도록 기능추가
- 메인 라벨이미지와 치수정보를 모은 사각형을 이루는 최소한의 다각형으로 이미지 추출하는 방식으로 수정하기 (현재는 라벨이미지 ,치수정보 띄엄띄엄 옮기고있어서 치수선을 못옮기는 케이스가 종종있음)

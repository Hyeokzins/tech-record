# 2025-12-10 - 일일 기록

## 주요 업무 및 작업

### 의료영상 프로젝트 - Landmark Detection 모델 성능 개선

#### 현재 문제 상황
- 학습 10 epoch 시점에서 validation MPE가 7mm까지 감소
  - Train loss: 3.9mm, Validation loss: 4.6mm
- 학습 진행 시 train loss는 계속 감소하나 validation은 7mm에서 정체
- Validation MPE는 20mm 수준으로 개선 안 됨
- **목표: MPE 2mm 이내**

#### 성능 향상 시도

**원인 분석**
- 데이터 개수 부족 가능성
- 학습 파라미터 문제
- Ground truth 좌표 정확도 의심
  - 이전 분석에서 정답과 예측값이 실수/정수 형태로 차이 발생 (예: 4 vs 4.7)

**K-fold 실험**
- 5-fold로 50개 케이스 분할 학습
- Validation MPE 7mm까지 감소
- 테스트 결과 큰 차이 없음
- 실용적 성능을 위해서는 1~2mm 수준까지 개선 필요

### 산업 안전 모니터링 프로젝트 - 릴레이 회로 개선

#### 문제 해결
- **문제**: 회로에서 미세 전압이 제대로 감지되지 않음
- **원인**: NO 단자가 저항 없이 측정되는 구조

#### 회로 수정
- COM: 전원선 직접 연결
- NO: 풀다운 저항 추가
  - 0V일 때 LOW 상태 확실히 유지
  - 전원 간섭 방지
- **결과**: 미세 전압 감지 문제 해결

## 배운 점 및 인사이트

### 딥러닝 모델
- Train/validation loss 괴리가 크면 overfitting 또는 데이터 품질 문제
- Ground truth 데이터 정확도가 모델 성능 상한선 결정
- K-fold가 항상 효과적이지는 않음 - 데이터 품질이 더 중요

### 하드웨어 회로
- 릴레이 회로에서 풀다운/풀업 저항의 중요성
- Floating 상태 방지가 안정적 신호 감지의 핵심
- 저항을 통한 전압 분배가 필수적

## 문제 해결 및 코드 예시

### 회로 개선 개념
```
기존 구조의 문제:
- NO 단자 → 측정 (저항 없음) → 불안정

개선된 구조:
- NO 단자 → 풀다운 저항 → 측정 → 안정적
```


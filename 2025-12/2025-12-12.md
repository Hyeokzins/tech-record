# 2025-12-12 - 일일 기록

### 인식 퀄리티 차이 문제
Slicer 앱에서 monai 모델 이용 예측 결과와 자체 코드를 통해 monai 모델 이용 예측결과가 미세하게 다름
자체 코드를 통한 예측이 정확하지 않은 편 

근데 지금보니 중요하지 않은슬라이스에서는 미세하게 다른게 있긴한데 메인 슬라이스에서는 별차이없네 

- Slicer와 차이점
  - sigmoid 활성화 누락
    - 기존: b_min=0, b_max=1 (선형 정규화만)
    - Slicer: b_min=-1, b_max=1 → torch.sigmoid() 적용
    - 효과: 작은 혈관/가지 놓침, 경계 흐림
  - overlap 비율 차이
    - 기존: overlap=0.5 (50%)
    - Slicer: overlap=0.625 (62.5%)
    - 효과: 패치 경계에서 아티팩트, 연속성 저하
  - 배치 처리방식
    - 기존: sw_batch_size=4
    - Slicer: sw_batch_size=1
    - 효과: 패치 간 미묘한 불일치
  - 기타 파라미터차이
    - min_pixdim, max_pixdim 누락
    - CropForeground margin=10 누락
    - clip=True vs False
    - 효과: 세부적인 차이 누적


